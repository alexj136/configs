#!/bin/bash
# Uses the imagemagick library to clean up whiteboard photos. More info here:
#     https://gist.github.com/lelandbatey/8677901
# First checks that the convert command (provided by the imagemagick package) is installed, aborting if it isn't. See:
#     https://stackoverflow.com/questions/592620/check-if-a-program-exists-from-a-bash-script
command -v convert >/dev/null 2>&1 || { echo >&2 "The program 'convert' (part of imagemagick) is required but it's not installed.  Aborting."; exit 1; }
convert "$1" -morphology Convolve DoG:15,100,0 -negate -normalize -blur 0x1 -channel RBG -level 60%,91%,0.1 "$2"
